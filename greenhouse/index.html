<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Greenhouse Scene</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        html, body { margin: 0; padding: 0; }
        canvas { border: none; }
    </style>
</head>
<body>
    <script>
        function setup() {
            createCanvas(windowWidth, windowHeight);
        }
        function windowResized() {
            resizeCanvas(windowWidth, windowHeight);
        }
        function draw() {
            // Calculate sun position
            let sunX = (frameCount * 0.5) % width;
            let sunY = height/3 - sin((sunX / width) * PI) * (height/3);
            // Sky
            noStroke();
            let t = sunX / width;
            let skyColor;
            if (t < 0.15) skyColor = lerpColor(color(0, 0, 50), color(255, 165, 0), t / 0.15);
            else if (t < 0.3) skyColor = lerpColor(color(255, 165, 0), color(135, 206, 235), (t - 0.15) / 0.15);
            else if (t < 0.7) skyColor = color(135, 206, 235);
            else if (t < 0.85) skyColor = lerpColor(color(135, 206, 235), color(255, 165, 0), (t - 0.7) / 0.15);
            else skyColor = lerpColor(color(255, 165, 0), color(0, 0, 50), (t - 0.85) / 0.15);
            for (let i = 0; i < height / 3; i++) {
                let alpha = map(i, 0, height / 3, 1, 0.5);
                fill(red(skyColor), green(skyColor), blue(skyColor), alpha * 255);
                rect(0, i, width, 1);
            }
            stroke(0);
            // Clouds
            noStroke();
            fill(255); // white
            let cloud1X = (100 + frameCount * 0.3) % (width + 100) - 50;
            ellipse(cloud1X, 45, 60, 40);
            ellipse(cloud1X + 20, 55, 60, 40);
            ellipse(cloud1X + 40, 45, 60, 40);
            // Second cloud
            let cloud2X = (400 + frameCount * 0.2) % (width + 150) - 75;
            ellipse(cloud2X, 75, 70, 50);
            ellipse(cloud2X + 20, 85, 70, 50);
            ellipse(cloud2X + 40, 75, 70, 50);
            ellipse(cloud2X + 60, 85, 70, 50);
            // Birds
            noFill();
            stroke(0);
            strokeWeight(0.5);
            let flap = sin(frameCount * 0.1) * 2;
            let bird1X = (200 + frameCount * 0.4) % (width + 50) - 25;
            arc(bird1X, 100 + flap, 10, 5, PI, 0); // left wing
            arc(bird1X + 10, 100 - flap, 10, 5, PI, 0); // right wing
            let bird2X = (300 + frameCount * 0.3) % (width + 50) - 25;
            arc(bird2X, 120 + flap, 10, 5, PI, 0); // left wing
            arc(bird2X + 10, 120 - flap, 10, 5, PI, 0); // right wing
            let bird3X = (500 + frameCount * 0.5) % (width + 50) - 25;
            arc(bird3X, 80 + flap, 10, 5, PI, 0); // left wing
            arc(bird3X + 10, 80 - flap, 10, 5, PI, 0); // right wing
            let bird4X = (600 + frameCount * 0.35) % (width + 50) - 25;
            arc(bird4X, 150 + flap, 10, 5, PI, 0); // left wing
            arc(bird4X + 10, 150 - flap, 10, 5, PI, 0); // right wing
            let bird5X = (700 + frameCount * 0.45) % (width + 50) - 25;
            arc(bird5X, 160 + flap, 10, 5, PI, 0); // left wing
            arc(bird5X + 10, 160 - flap, 10, 5, PI, 0); // right wing
            // Sun
            fill(255, 255, 0); // yellow
            ellipse(sunX, sunY, 50, 50);
            // Water
            fill(0, 191, 255); // blue
            rect(0, height / 3, width, height / 3);
            // Boat
            fill(139, 69, 19); // brown
            rect(width*0.2, height/2 + 60, 100, 20); // hull
            rect(width*0.2 + 10, height/2 + 50, 80, 10); // upper deck
            rect(width*0.2 + 20, height/2 + 40, 60, 10); // bridge
            // Waves
            noFill();
            stroke(0, 191, 255);
            strokeWeight(2);
            for (let i = 0; i < width; i += 20) {
                arc(i, height / 3 + 50, 20, 20, 0, PI);
            }
            // River
            fill(0, 191, 255); // blue
            triangle(0, 2*height/3, 80, 2*height/3, 40, height);
            stroke(0);
            // Grass
            fill(34, 139, 34); // green
            rect(0, 2 * height / 3, width, height / 3);
            // Hill
            fill(34, 139, 34); // green
            arc(width*0.75, height - 150, width*0.5, 500, PI, 0);
            // Flowers
            fill(0, 0, 255); // blue
            ellipse(width*0.7, height - 10, 10, 10);
            ellipse(width*0.75, height - 10, 10, 10);
            ellipse(width*0.8, height - 10, 10, 10);
            // Log
            fill(139, 69, 19); // brown
            rect(width*0.4, height*0.8, 100, 20);
            // Lines
            stroke(0);
            strokeWeight(5);
            line(0, height / 3, width, height / 3);
            line(0, 2 * height / 3, width*0.5, 2 * height / 3);
        }
    </script>
</body>
</html>